{% extends "base_generic.html" %}

{% block content %}
  <h1>Upload PDF</h1>
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit">Upload</button>
  </form>

  {% if error %}
    <p style="color:red;">{{ error }}</p>
  {% endif %}

  {% if table_data %}
    <h2>Extracted Text</h2>
    <table border="1">
      <tr>
        <th>Page</th>
        <th>Text</th>
      </tr>
      {% for row in table_data %}
        <tr>
          <td>{{ row.page }}</td>
          <td><pre>{{ row.text }}</pre></td>
        </tr>
      {% endfor %}
    </table>
  {% endif %}
{% endblock %}
